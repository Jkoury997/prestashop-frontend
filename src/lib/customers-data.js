// Datos reales de clientes con información de compras
export const customersData = [
  {
    id: 60186,
    nombre: "Victoria Judith",
    apellido: "Ink",
    email: "victoria_ink@hotmail.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-11-01T13:08:00"),
    pedidos4Meses: 1,
    total4Meses: 64229.76,
  },
  {
    id: 60185,
    nombre: "Eliana",
    apellido: "Segobia",
    email: "elianasegobia@hotmail.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-11-01T09:01:00"),
    pedidos4Meses: 1,
    total4Meses: 38521.98,
  },
  {
    id: 3319,
    nombre: "Mariela",
    apellido: "Caceres",
    email: "marucaceres_78@hotmail.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-10-31T20:50:00"),
    pedidos4Meses: 1,
    total4Meses: 84115.26,
  },
  {
    id: 60184,
    nombre: "Hercilia",
    apellido: "Ramos",
    email: "hercilia_rs@icloud.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-10-31T20:00:00"),
    pedidos4Meses: 1,
    total4Meses: 28881.69,
  },
  {
    id: 60181,
    nombre: "Brenda",
    apellido: "Fernández",
    email: "brendapop_1@hotmail.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-10-31T15:08:00"),
    pedidos4Meses: 1,
    total4Meses: 66855.47,
  },
  {
    id: 1,
    nombre: "Yesica",
    apellido: "Venencio",
    email: "v.yesica_29@hotmail.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-09-15T10:30:00"),
    pedidos4Meses: 3,
    total4Meses: 125000,
  },
  {
    id: 2,
    nombre: "Sandra",
    apellido: "Roldan",
    email: "sandra.ariel2018@gmail.com",
    tipoCliente: "Mayorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-08-20T14:45:00"),
    pedidos4Meses: 5,
    total4Meses: 350000,
  },
  {
    id: 3,
    nombre: "Pamela",
    apellido: "Tracz",
    email: "pamela_tracz@hotmail.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-10-28T16:20:00"),
    pedidos4Meses: 2,
    total4Meses: 95000,
  },
  {
    id: 4,
    nombre: "Yessica",
    apellido: "Ibáñez",
    email: "jessicanoemi.bja@gmail.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-09-05T11:15:00"),
    pedidos4Meses: 1,
    total4Meses: 45000,
  },
  {
    id: 5,
    nombre: "Eugenia",
    apellido: "Villagra",
    email: "nenianel@yahoo.com.ar",
    tipoCliente: "Mayorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-10-29T09:30:00"),
    pedidos4Meses: 4,
    total4Meses: 280000,
  },
  {
    id: 7,
    nombre: "Ester",
    apellido: "Gimenez",
    email: "estergimenez_macias@hotmail.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-08-10T15:00:00"),
    pedidos4Meses: 2,
    total4Meses: 78000,
  },
  {
    id: 8,
    nombre: "Liz Paola",
    apellido: "Torres",
    email: "liz.pfannkuchen@gmail.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-09-22T12:40:00"),
    pedidos4Meses: 1,
    total4Meses: 52000,
  },
  {
    id: 9,
    nombre: "Flavia Pamela",
    apellido: "Figueroa",
    email: "pame270500@gmail.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-10-30T18:25:00"),
    pedidos4Meses: 3,
    total4Meses: 145000,
  },
  {
    id: 10,
    nombre: "Lorena",
    apellido: "Sánchez",
    email: "loresanchez_2117@hotmail.com",
    tipoCliente: "Mayorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-09-12T10:10:00"),
    pedidos4Meses: 6,
    total4Meses: 420000,
  },
  {
    id: 11,
    nombre: "Sabrina",
    apellido: "Paciaroni",
    email: "sabrypaciaroni1@gmail.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-08-25T13:50:00"),
    pedidos4Meses: 2,
    total4Meses: 89000,
  },
  {
    id: 12,
    nombre: "Patricia Dolores",
    apellido: "Villalba",
    email: "patriciavillalba14@gmail.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-10-27T11:30:00"),
    pedidos4Meses: 1,
    total4Meses: 67000,
  },
  {
    id: 13,
    nombre: "Inés del Carmen",
    apellido: "Troncoso",
    email: "valentinacarmen@live.com.ar",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-09-18T14:15:00"),
    pedidos4Meses: 2,
    total4Meses: 93000,
  },
  {
    id: 14,
    nombre: "María",
    apellido: "Batirola",
    email: "mariaeugeniabatirola@gmail.com",
    tipoCliente: "Mayorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-08-30T16:40:00"),
    pedidos4Meses: 4,
    total4Meses: 310000,
  },
  {
    id: 15,
    nombre: "Barbara Gisel",
    apellido: "Vilches",
    email: "Barby.vilches@hotmail.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-09-28T09:20:00"),
    pedidos4Meses: 1,
    total4Meses: 58000,
  },
  {
    id: 16,
    nombre: "Rosalia Romina",
    apellido: "Moreyra",
    email: "rosaliarominamoreyra@yahoo.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-10-26T17:55:00"),
    pedidos4Meses: 2,
    total4Meses: 102000,
  },
  {
    id: 17,
    nombre: "Ricardo Alberto",
    apellido: "Fernandez",
    email: "eugenia.brites@gmail.com",
    tipoCliente: "Mayorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-08-15T12:25:00"),
    pedidos4Meses: 5,
    total4Meses: 385000,
  },
  {
    id: 18,
    nombre: "Carina",
    apellido: "Paoli",
    email: "carylissi@hotmail.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-09-08T15:30:00"),
    pedidos4Meses: 3,
    total4Meses: 128000,
  },
  {
    id: 19,
    nombre: "María Andrea",
    apellido: "Giai",
    email: "giaiandrea2@gmail.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-10-25T10:45:00"),
    pedidos4Meses: 1,
    total4Meses: 72000,
  },
  {
    id: 20,
    nombre: "Natalia",
    apellido: "Rojas",
    email: "nataliarojas2090@gmail.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-08-22T14:20:00"),
    pedidos4Meses: 2,
    total4Meses: 86000,
  },
  {
    id: 21,
    nombre: "Natalia",
    apellido: "Lucena",
    email: "natylucena@yahoo.com.ar",
    tipoCliente: "Mayorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-09-25T11:50:00"),
    pedidos4Meses: 4,
    total4Meses: 295000,
  },
  {
    id: 22,
    nombre: "Angelica",
    apellido: "Angelelli",
    email: "angelelli2015@gmail.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-10-24T16:10:00"),
    pedidos4Meses: 1,
    total4Meses: 61000,
  },
  {
    id: 23,
    nombre: "Gisela",
    apellido: "Perez",
    email: "gisemica112014@gmail.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-08-18T13:35:00"),
    pedidos4Meses: 3,
    total4Meses: 142000,
  },
  {
    id: 24,
    nombre: "Mariela",
    apellido: "Romero",
    email: "mariela.romero80@yahoo.com.ar",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-09-30T10:05:00"),
    pedidos4Meses: 2,
    total4Meses: 97000,
  },
  {
    id: 25,
    nombre: "Daniela",
    apellido: "Rodriguez",
    email: "daniela.rodriguez1987@gmail.com",
    tipoCliente: "Mayorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-08-28T15:45:00"),
    pedidos4Meses: 5,
    total4Meses: 360000,
  },
  {
    id: 26,
    nombre: "Laura",
    apellido: "Martinez",
    email: "lauramartinez2015@hotmail.com",
    tipoCliente: "Minorista",
    telefono: "1234567890",
    provincia: "Buenos Aires",
    ultimaCompra: new Date("2025-09-14T12:15:00"),
    pedidos4Meses: 1,
    total4Meses: 55000,
  },
  {
    id: 308,
    nombre: "Daiana",
    apellido: "Raffaele",
    email: "daiana@owl-studio.com.ar",
    tipoCliente: "Minorista",
    telefono: "2323675138",
    provincia: "CABA",
  },
  {
    id: 341,
    nombre: "Jorge",
    apellido: "Koury",
    email: "jorge_koury@me.com",
    tipoCliente: "Revendedoras",
    telefono: "1140742289",
    provincia: "CABA",
  },
  {
    id: 384,
    nombre: "Paola",
    apellido: "Patriarca",
    email: "paopat@hotmail.com",
    tipoCliente: "Minorista",
    telefono: "2804564964",
    provincia: "Chubut",
  },
  {
    id: 389,
    nombre: "Agustina",
    apellido: "D'Atri",
    email: "agustinaalejandradatri@gmail.com",
    tipoCliente: "Compra por Mayor",
    telefono: "3774531693",
    provincia: "Corrientes",
  },
  {
    id: 424,
    nombre: "Verónica",
    apellido: "Refrancore",
    email: "margotlenceria@hotmail.com",
    tipoCliente: "Compra por Mayor",
    telefono: "3513882416",
    provincia: "Córdoba",
  },
  {
    id: 441,
    nombre: "Sandra",
    apellido: "Conti",
    email: "sa.conti@hotmail.com",
    tipoCliente: "Compra por Mayor",
    telefono: "0353-156575344",
    provincia: "Córdoba",
  },
  {
    id: 443,
    nombre: "Maria Soledad",
    apellido: "Peña",
    email: "ma.soledadpenia@outlook.com",
    tipoCliente: "Minorista",
    telefono: "3416664382",
    provincia: "Santa Fe",
  },
  {
    id: 557,
    nombre: "Noelia",
    apellido: "Reynoso",
    email: "noelia_reynoso_6@hotmail.com",
    tipoCliente: "Compra por Mayor",
    telefono: "2215738751",
    provincia: "Buenos Aires",
  },
  {
    id: 974,
    nombre: "Evelin",
    apellido: "Montepaone",
    email: "evemontepaone@gmail.com",
    tipoCliente: "Minorista",
    telefono: "1154736300",
    provincia: "Buenos Aires",
  },
  {
    id: 1094,
    nombre: "Cecilia",
    apellido: "Gongora",
    email: "cecilia_gongora01@hotmail.com",
    tipoCliente: "Minorista",
    telefono: "1534469205",
    provincia: "Buenos Aires",
  },
  {
    id: 1348,
    nombre: "Romina",
    apellido: "Elizondo Ahumada",
    email: "elizondoromina89@gmail.com",
    tipoCliente: "Compra por Mayor",
    telefono: "2644511229",
    provincia: "San Juan",
  },
]

export function generateRandomPurchaseData() {
  const now = new Date()

  return customersData.map((customer) => {
    // 70% probabilidad de ser cliente inactivo (sin compra en último mes)
    const isInactive = Math.random() < 0.7

    let ultimaCompra
    if (isInactive) {
      // Última compra entre 30 y 90 días atrás
      const daysAgo = 30 + Math.floor(Math.random() * 60)
      ultimaCompra = new Date(now.getTime() - daysAgo * 24 * 60 * 60 * 1000)
    } else {
      // Última compra en los últimos 30 días
      const daysAgo = Math.floor(Math.random() * 30)
      ultimaCompra = new Date(now.getTime() - daysAgo * 24 * 60 * 60 * 1000)
    }

    // Generar pedidos y totales basados en tipo de cliente
    let pedidos4Meses
    let total4Meses

    if (customer.tipoCliente === "Compra por Mayor") {
      pedidos4Meses = 3 + Math.floor(Math.random() * 8) // 3-10 pedidos
      total4Meses = 150000 + Math.random() * 450000 // $150k-$600k
    } else if (customer.tipoCliente === "Revendedoras") {
      pedidos4Meses = 2 + Math.floor(Math.random() * 5) // 2-6 pedidos
      total4Meses = 80000 + Math.random() * 220000 // $80k-$300k
    } else {
      pedidos4Meses = 1 + Math.floor(Math.random() * 4) // 1-4 pedidos
      total4Meses = 25000 + Math.random() * 125000 // $25k-$150k
    }

    return {
      ...customer,
      ultimaCompra,
      pedidos4Meses,
      total4Meses,
    }
  })
}

export function getInactiveCustomers() {
  const customersWithData = generateRandomPurchaseData()
  const now = new Date()
  const oneMonthAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000)

  const inactiveCustomers = customersWithData
    .filter((customer) => customer.ultimaCompra && customer.ultimaCompra < oneMonthAgo)
    .map((customer) => {
      const daysSinceLastPurchase = customer.ultimaCompra
        ? Math.floor((now.getTime() - customer.ultimaCompra.getTime()) / (24 * 60 * 60 * 1000))
        : 0

      return {
        ...customer,
        nombreCompleto: `${customer.nombre} ${customer.apellido}`,
        daysSinceLastPurchase,
        ticketPromedio:
          customer.pedidos4Meses && customer.pedidos4Meses > 0 && customer.total4Meses
            ? customer.total4Meses / customer.pedidos4Meses
            : 0,
      }
    })
    .sort((a, b) => b.daysSinceLastPurchase - a.daysSinceLastPurchase)

  return inactiveCustomers
}
